{template 'common/header'}
<body>
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div id="main" style="height:400px;width:50%;margin-left:25%;padding-top:50px"></div>

    <div id="main2" style="height:400px;width:50%;margin-left:25%;padding-top:50px"></div>

    <div id="main3" style="height:400px;width:50%;margin-left:25%;padding-top:50px"></div>

    <div id="main4" style="height:400px;width:50%;margin-left:25%;padding-top:50px"></div>

    <div id="main5" style="height:400px;width:50%;margin-left:25%;padding-top:50px"></div>

    <div id="main6" style="height:400px;width:50%;margin-left:25%;padding-top:50px"></div>

    
    <!-- ECharts单文件引入 -->
    <script src="http://echarts.baidu.com/build/dist/echarts.js"></script>
    <script type="text/javascript">
        // 路径配置
        require.config({
            paths: {
                echarts: 'http://echarts.baidu.com/build/dist'
            }
        });
        
        // 使用
        require(
            [
                'echarts',
                'echarts/chart/pie', // 使用柱状图就加载pie模块，按需加载
                'echarts/chart/funnel'
            ],
            function (ec) {
                // 基于准备好的dom，初始化echarts图表
                var myChart = ec.init(document.getElementById('main')); 
                var myChart2 = ec.init(document.getElementById('main2')); 
                var myChart3 = ec.init(document.getElementById('main3')); 
                var myChart4 = ec.init(document.getElementById('main4'));
                var myChart5 = ec.init(document.getElementById('main5'));
                var myChart6 = ec.init(document.getElementById('main6')); 
                
                var option = {
                    title : {
                        text: '回答总数据',
                        subtext: '报表',
                        x:'center'
                    },
                    tooltip : {
                        trigger: 'item',
                        formatter: "{a} <br/>{b} : {c} ({d}%)"
                    },
                    legend: {
                        orient : 'vertical',
                        x : 'left',
                        data:[
                            {loop $list $item}
                            '{$timu[$item['timu']]}',
                            {/loop}
                            ]
                    },
                    toolbox: {
                        show : true,
                        feature : {
                            mark : {show: false},
                            dataView : {show: false, readOnly: false},
                            magicType : {
                                show: true, 
                                type: ['pie', 'funnel'],
                                
                                option: {
                                    funnel: {
                                        x: '25%',
                                        width: '50%',
                                        funnelAlign: 'left',
                                        max: 1548
                                    }
                                }
                            },
                            restore : {show: true},
                            saveAsImage : {show: true}
                        }
                    },
                    calculable : true,
                    series : [
                        {
                            name:'回答量',
                            type:'pie',
                            radius : '55%',
                            center: ['50%', '60%'],
                            data:[
                            {loop $list $item}
                                {value:{$item['num']}, name:'{$timu[$item['timu']]}'},
                            {/loop}
                            ]
                        }
                    ]
                };

                var option2 = {
                    title : {
                        text: '{$timu[1]}数据',
                        subtext: '报表',
                        x:'center'
                    },
                    tooltip : {
                        trigger: 'item',
                        formatter: "{a} <br/>{b} : {c} ({d}%)"
                    },
                    legend: {
                        orient : 'vertical',
                        x : 'left',
                        data:[
                            {loop $list1 $item}
                            '{$timu1[$item['zhi']]}',
                            {/loop}
                            ]
                    },
                    toolbox: {
                        show : true,
                        feature : {
                            mark : {show: false},
                            dataView : {show: false, readOnly: false},
                            magicType : {
                                show: true, 
                                type: ['pie', 'funnel'],
                                option: {
                                    funnel: {
                                        x: '25%',
                                        width: '50%',
                                        funnelAlign: 'left',
                                        max: 1548
                                    }
                                }
                            },
                            restore : {show: true},
                            saveAsImage : {show: true}
                        }
                    },
                    calculable : true,
                    series : [
                        {
                            name:'回答量',
                            type:'pie',
                            radius : '55%',
                            center: ['50%', '60%'],
                            data:[
                            {loop $list1 $item}
                                {value:{$item['num']}, name:'{$timu1[$item['zhi']]}'},
                            {/loop}
                            ]
                        }
                    ]
                };

                var option3 = {
                    title : {
                        text: '{$timu[2]}数据',
                        subtext: '报表',
                        x:'center'
                    },
                    tooltip : {
                        trigger: 'item',
                        formatter: "{a} <br/>{b} : {c} ({d}%)"
                    },
                    legend: {
                        orient : 'vertical',
                        x : 'left',
                        data:[
                            {loop $list2 $item}
                            '{$timu2[$item['zhi']]}',
                            {/loop}
                            ]
                    },
                    toolbox: {
                        show : true,
                        feature : {
                            mark : {show: false},
                            dataView : {show: false, readOnly: false},
                            magicType : {
                                show: true, 
                                type: ['pie', 'funnel'],
                                option: {
                                    funnel: {
                                        x: '25%',
                                        width: '50%',
                                        funnelAlign: 'left',
                                        max: 1548
                                    }
                                }
                            },
                            restore : {show: true},
                            saveAsImage : {show: true}
                        }
                    },
                    calculable : true,
                    series : [
                        {
                            name:'回答量',
                            type:'pie',
                            radius : '55%',
                            center: ['50%', '60%'],
                            data:[
                            {loop $list2 $item}
                                {value:{$item['num']}, name:'{$timu2[$item['zhi']]}'},
                            {/loop}
                            ]
                        }
                    ]
                };

                var option4 = {
                    title : {
                        text: '{$timu[3]}数据',
                        subtext: '报表',
                        x:'center'
                    },
                    tooltip : {
                        trigger: 'item',
                        formatter: "{a} <br/>{b} : {c} ({d}%)"
                    },
                    legend: {
                        orient : 'vertical',
                        x : 'left',
                        data:[
                            {loop $list3 $item}
                            '{$timu3[$item['zhi']]}',
                            {/loop}
                            ]
                    },
                    toolbox: {
                        show : true,
                        feature : {
                            mark : {show: false},
                            dataView : {show: false, readOnly: false},
                            magicType : {
                                show: true, 
                                type: ['pie', 'funnel'],
                                option: {
                                    funnel: {
                                        x: '25%',
                                        width: '50%',
                                        funnelAlign: 'left',
                                        max: 1548
                                    }
                                }
                            },
                            restore : {show: true},
                            saveAsImage : {show: true}
                        }
                    },
                    calculable : true,
                    series : [
                        {
                            name:'回答量',
                            type:'pie',
                            radius : '55%',
                            center: ['50%', '60%'],
                            data:[
                            {loop $list3 $item}
                                {value:{$item['num']}, name:'{$timu3[$item['zhi']]}'},
                            {/loop}
                            ]
                        }
                    ]
                };

                var option5 = {
                    title : {
                        text: '{$timu[4]}数据',
                        subtext: '报表',
                        x:'center'
                    },
                    tooltip : {
                        trigger: 'item',
                        formatter: "{a} <br/>{b} : {c} ({d}%)"
                    },
                    legend: {
                        orient : 'vertical',
                        x : 'left',
                        data:[
                            {loop $list4 $item}
                            '{$timu4[$item['zhi']]}',
                            {/loop}
                            ]
                    },
                    toolbox: {
                        show : true,
                        feature : {
                            mark : {show: false},
                            dataView : {show: false, readOnly: false},
                            magicType : {
                                show: true, 
                                type: ['pie', 'funnel'],
                                option: {
                                    funnel: {
                                        x: '25%',
                                        width: '50%',
                                        funnelAlign: 'left',
                                        max: 1548
                                    }
                                }
                            },
                            restore : {show: true},
                            saveAsImage : {show: true}
                        }
                    },
                    calculable : true,
                    series : [
                        {
                            name:'回答量',
                            type:'pie',
                            radius : '55%',
                            center: ['50%', '60%'],
                            data:[
                            {loop $list4 $item}
                                {value:{$item['num']}, name:'{$timu4[$item['zhi']]}'},
                            {/loop}
                            ]
                        }
                    ]
                };

                var option6 = {
                    title : {
                        text: '{$timu[5]}数据',
                        subtext: '报表',
                        x:'center'
                    },
                    tooltip : {
                        trigger: 'item',
                        formatter: "{a} <br/>{b} : {c} ({d}%)"
                    },
                    legend: {
                        orient : 'vertical',
                        x : 'left',
                        data:[
                            {loop $list5 $item}
                            '{$timu5[$item['zhi']]}',
                            {/loop}
                            ]
                    },
                    toolbox: {
                        show : true,
                        feature : {
                            mark : {show: false},
                            dataView : {show: false, readOnly: false},
                            magicType : {
                                show: true, 
                                type: ['pie', 'funnel'],
                                option: {
                                    funnel: {
                                        x: '25%',
                                        width: '50%',
                                        funnelAlign: 'left',
                                        max: 1548
                                    }
                                }
                            },
                            restore : {show: true},
                            saveAsImage : {show: true}
                        }
                    },
                    calculable : true,
                    series : [
                        {
                            name:'回答量',
                            type:'pie',
                            radius : '55%',
                            center: ['50%', '60%'],
                            data:[
                            {loop $list5 $item}
                                {value:{$item['num']}, name:'{$timu5[$item['zhi']]}'},
                            {/loop}
                            ]
                        }
                    ]
                };
                    
        
                // 为echarts对象加载数据 
                myChart.setOption(option); 
                myChart2.setOption(option2); 
                myChart3.setOption(option3); 
                myChart4.setOption(option4); 
                myChart5.setOption(option5); 
                myChart6.setOption(option6); 
            }
        );
    </script>
</body>

{template 'common/footer'}